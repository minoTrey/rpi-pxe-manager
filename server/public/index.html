<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPI PXE Manager</title>
    <link rel="stylesheet" href="styles.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Raspberry Pi PXE Manager</h1>
            <div class="server-status">
                <span id="server-ip">서버 IP: 확인중...</span>
                <span id="dhcp-range">DHCP 범위: 확인중...</span>
            </div>
        </header>

        <div class="main-content">
            <div class="services-panel">
                <h2>서비스 상태</h2>
                <div class="service-status">
                    <div class="service-item">
                        <span>DNSMASQ</span>
                        <span class="status-indicator" id="dnsmasq-status"></span>
                    </div>
                    <div class="service-item">
                        <span>NFS Server</span>
                        <span class="status-indicator" id="nfs-status"></span>
                    </div>
                </div>
            </div>

            <div class="actions-panel">
                <h2>서버 설정</h2>
                <button id="setup-server-btn" class="primary-btn">서버 초기 설정</button>
                
                <h2>클라이언트 관리</h2>
                <button id="setup-client-btn" class="primary-btn">첫 클라이언트 설정</button>
                <button id="create-client-btn" class="primary-btn">새 클라이언트 추가</button>
            </div>

            <div class="clients-panel">
                <h2>연결된 클라이언트</h2>
                <div id="clients-list" class="clients-list">
                    <div class="loading">클라이언트 정보 로딩중...</div>
                </div>
            </div>
        </div>

        <div class="console-panel">
            <h3>실행 로그</h3>
            <div id="console-output" class="console-output"></div>
        </div>
    </div>

    <div id="setup-client-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>첫 클라이언트 설정</h2>
            <form id="setup-client-form">
                <div class="form-group">
                    <label>Raspberry Pi 시리얼 번호:</label>
                    <input type="text" id="client-serial" required>
                    <small>SD카드의 /boot/serial 파일에서 확인 가능</small>
                </div>
                <div class="form-group">
                    <label>SD 카드 선택:</label>
                    <select id="sd-card-select" required>
                        <option value="">SD 카드 검색중...</option>
                    </select>
                </div>
                <button type="submit" class="primary-btn">설정 시작</button>
            </form>
        </div>
    </div>

    <div id="create-client-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>새 클라이언트 추가</h2>
            <form id="create-client-form">
                <div class="form-group">
                    <label>복사할 소스 클라이언트:</label>
                    <select id="source-client-select" required>
                        <option value="">클라이언트 선택...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>새 Raspberry Pi 시리얼 번호:</label>
                    <input type="text" id="new-client-serial" required>
                </div>
                <div class="form-group">
                    <label>MAC 주소 (선택사항):</label>
                    <input type="text" id="new-client-mac" placeholder="예: dc:a6:32:xx:xx:xx">
                </div>
                <button type="submit" class="primary-btn">클라이언트 생성</button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>